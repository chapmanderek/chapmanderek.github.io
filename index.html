<!DOCTYPE html>
<html>
<body>

	<h1>What period is it?!?!</h1>

	<h2>Today is: <span id="today"></span>

	<h2>    6th: <span id="period_output_6th"></span></h2>
	<h2>7th/8th: <span id="period_output_78th"></span></h2>

	<p>Current Time is: <span id="cur_time"></span></p>
	<p>Current Date is:  <span id="cur_date"></span></p>
	

	<button type="button" onclick="load_info()">Refresh</button>

	<script>
		function load_info(){
			var cur_date = new Date();
			var date = cur_date.toLocaleDateString();
			var time = cur_date.toLocaleTimeString();
			var day = get_day(cur_date.getDay());

			var tdate = new Date();
			tdate.setHours(21,0,0);

			console.log(tdate);


			console.log(diff_minutes(cur_date, tdate));

			if(day=="Saturday" || day == "Sunday"){
				var info_out_6  = "It's the weekend!!";
				var info_out_78 = "It's the weekend!!";
			}
			else{
				var grade_6 = get_current_period_6th(cur_date, day);
				var grade_78 = get_current_period_78(cur_date, day);

				var info_out_6  = `It's currently ${grade_6[0]}.  There are ${grade_6[1]} minutes left.`;
				var info_out_78 = `It's currently ${grade_78[0]}.  There are ${grade_78[1]} minutes left.`
			}

			document.getElementById("today").textContent = day;
			document.getElementById("period_output_6th").textContent  = info_out_6;
			document.getElementById("period_output_78th").textContent = info_out_78;
			document.getElementById("cur_time").textContent = time;
			document.getElementById("cur_date").textContent = date;
		}

		function diff_minutes(dt2, dt1) {
			var diff =(dt2.getTime() - dt1.getTime()) / 1000;
			diff /= 60;
			return Math.abs(Math.round(diff));
			}

		function get_day(day){
			var days = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
			return days[day]
		}

		function get_current_period_6th(time, day){
			//setup variable names to make easier to calculate time left
			if(true){
				mon_hr_start = new Date();
				mon_hr_start.setHours(8,0,0);
				mon_hr_end = new Date();
				mon_hr_end.setHours(8,17,0);
				mon_p1_start = new Date();
				mon_p1_start.setHours(8,20,0);
				mon_p1_end = new Date();
				mon_p1_end.setHours(9,5,0);
				mon_p2_start = new Date();
				mon_p2_start.setHours(9,8,0);
				mon_p2_end = new Date();
				mon_p2_end.setHours(9,53,0);
				mon_rs_start = new Date();
				mon_rs_start.setHours(9,53,0);
				mon_rs_end = new Date();
				mon_rs_end.setHours(10,8,0);
				mon_p3_start = new Date();
				mon_p3_start.setHours(10,11,0);
				mon_p3_end = new Date();
				mon_p3_end.setHours(10,56,0);
				mon_p4_start = new Date();
				mon_p4_start.setHours(10,59,0);
				mon_p4_end = new Date();
				mon_p4_end.setHours(11,44,0);
				mon_lh_start = new Date();
				mon_lh_start.setHours(11,44,0);
				mon_lh_end = new Date();
				mon_lh_end.setHours(12,14,0);
				mon_p5_start = new Date();
				mon_p5_start.setHours(12,17,0);
				mon_p5_end = new Date();
				mon_p5_end.setHours(13,2,0);
				mon_p6_start = new Date();
				mon_p6_start.setHours(13,5,0);
				mon_p6_end = new Date();
				mon_p6_end.setHours(13,50,0);
				mon_dl_start = new Date();
				mon_dl_start.setHours(13,50,0);
				mon_dl_end = new Date();
				mon_dl_end.setHours(14,5,0);
				tue_hm_start = new Date();
				tue_hm_start.setHours(8,0,0);
				tue_hm_end = new Date();
				tue_hm_end.setHours(8,17,0);
				tue_p7_start = new Date();
				tue_p7_start.setHours(8,20,0);
				tue_p7_end = new Date();
				tue_p7_end.setHours(9,5,0);
				tue_rs_start = new Date();
				tue_rs_start.setHours(9,5,0);
				tue_rs_end = new Date();
				tue_rs_end.setHours(9,20,0);
				tue_p1_start = new Date();
				tue_p1_start.setHours(9,23,0);
				tue_p1_end = new Date();
				tue_p1_end.setHours(10,15,0);
				tue_p2_start = new Date();
				tue_p2_start.setHours(10,18,0);
				tue_p2_end = new Date();
				tue_p2_end.setHours(11,10,0);
				tue_lh_start = new Date();
				tue_lh_start.setHours(11,10,0);
				tue_lh_end = new Date();
				tue_lh_end.setHours(11,40,0);
				tue_p3_start = new Date();
				tue_p3_start.setHours(11,43,0);
				tue_p3_end = new Date();
				tue_p3_end.setHours(12,35,0);
				tue_p4_start = new Date();
				tue_p4_start.setHours(12,38,0);
				tue_p4_end = new Date();
				tue_p4_end.setHours(13,30,0);
				tue_p5_start = new Date();
				tue_p5_start.setHours(13,33,0);
				tue_p5_end = new Date();
				tue_p5_end.setHours(14,25,0);
				tue_dl_start = new Date();
				tue_dl_start.setHours(14,25,0);
				tue_dl_end = new Date();
				tue_dl_end.setHours(14,40,0);
			}		

			//setHours is hours, minutes, seconds
			switch(day){
				case("Monday"):
					console.log('in monday')
					if(time > mon_hr_start && time < mon_hr_end){
					time_left = diff_minutes(time,mon_hr_end);
					return ['HR', time_left]}
					if(time > mon_p1_start && time < mon_p1_end){
					time_left = diff_minutes(time,mon_p1_end);
					return ['Period 1', time_left]}
					if(time > mon_p2_start && time < mon_p2_end){
					time_left = diff_minutes(time,mon_p2_end);
					return ['Period 2', time_left]}
					if(time > mon_rs_start && time < mon_rs_end){
					time_left = diff_minutes(time,mon_rs_end);
					return ['Recess', time_left]}
					if(time > mon_p3_start && time < mon_p3_end){
					time_left = diff_minutes(time,mon_p3_end);
					return ['Period 3', time_left]}
					if(time > mon_p4_start && time < mon_p4_end){
					time_left = diff_minutes(time,mon_p4_end);
					return ['Period 4', time_left]}
					if(time > mon_lh_start && time < mon_lh_end){
					time_left = diff_minutes(time,mon_lh_end);
					return ['Lunch', time_left]}
					if(time > mon_p5_start && time < mon_p5_end){
					time_left = diff_minutes(time,mon_p5_end);
					return ['Period 5', time_left]}
					if(time > mon_p6_start && time < mon_p6_end){
					time_left = diff_minutes(time,mon_p6_end);
					return ['Period 6', time_left]}
					if(time > mon_dl_start && time < mon_dl_end){
					time_left = diff_minutes(time,mon_dl_end);
					return ['Dismissal', time_left]}

					if(time > new Date().setHours(8,0,0) && time < new Date().setHours(13,50,0)){return "Passing"}
					if(time > new Date().setHours(14,5,0)){return "Pau"}
					break;

				case("Tuesday"):
					console.log("in tuesday");
					
					if(time > tue_hm_start && time < tue_hm_end){
					time_left = diff_minutes(time,tue_hm_end);
					return ['Homeroom', time_left]}
					if(time > tue_p7_start && time < tue_p7_end){
					time_left = diff_minutes(time,tue_p7_end);
					return ['Period 7', time_left]}
					if(time > tue_rs_start && time < tue_rs_end){
					time_left = diff_minutes(time,tue_rs_end);
					return ['Recess', time_left]}
					if(time > tue_p1_start && time < tue_p1_end){
					time_left = diff_minutes(time,tue_p1_end);
					return ['Period 1', time_left]}
					if(time > tue_p2_start && time < tue_p2_end){
					time_left = diff_minutes(time,tue_p2_end);
					return ['Period 2', time_left]}
					if(time > tue_lh_start && time < tue_lh_end){
					time_left = diff_minutes(time,tue_lh_end);
					return ['Lunch', time_left]}
					if(time > tue_p3_start && time < tue_p3_end){
					time_left = diff_minutes(time,tue_p3_end);
					return ['Period 3', time_left]}
					if(time > tue_p4_start && time < tue_p4_end){
					time_left = diff_minutes(time,tue_p4_end);
					return ['Period 4', time_left]}
					if(time > tue_p5_start && time < tue_p5_end){
					time_left = diff_minutes(time,tue_p5_end);
					return ['Period 5', time_left]}
					if(time > tue_dl_start && time < tue_dl_end){
					time_left = diff_minutes(time,tue_dl_end);
					return ['Dismissal', time_left]}

					if(time > new Date().setHours(8,0,0) && time < new Date().setHours(14,25,0)){return "Passing"}
					if(time > new Date().setHours(14,25,0)){return "Pau"}
					break;


				case("Saturday" || "Sunday"):
					return "weekend";
					break;

				}

			return 'not found';
		}


		function get_current_period_78(time, day){
			//7th/8th grade variables
			if(true){
				mon_hr_start_78 = new Date();
				mon_hr_start_78.setHours(8,0,0);
				mon_hr_end_78 = new Date();
				mon_hr_end_78.setHours(8,12,0);
				mon_p1_start_78 = new Date();
				mon_p1_start_78.setHours(8,15,0);
				mon_p1_end_78 = new Date();
				mon_p1_end_78.setHours(9,0,0);
				mon_p2_start_78 = new Date();
				mon_p2_start_78.setHours(9,3,0);
				mon_p2_end_78 = new Date();
				mon_p2_end_78.setHours(9,48,0);
				mon_p3_start_78 = new Date();
				mon_p3_start_78.setHours(9,51,0);
				mon_p3_end_78 = new Date();
				mon_p3_end_78.setHours(10,36,0);
				mon_rs_start_78 = new Date();
				mon_rs_start_78.setHours(10,36,0);
				mon_rs_end_78 = new Date();
				mon_rs_end_78.setHours(10,51,0);
				mon_p4_start_78 = new Date();
				mon_p4_start_78.setHours(10,54,0);
				mon_p4_end_78 = new Date();
				mon_p4_end_78.setHours(11,39,0);
				mon_p5_start_78 = new Date();
				mon_p5_start_78.setHours(11,42,0);
				mon_p5_end_78 = new Date();
				mon_p5_end_78.setHours(12,27,0);
				mon_lh_start_78 = new Date();
				mon_lh_start_78.setHours(12,27,0);
				mon_lh_end_78 = new Date();
				mon_lh_end_78.setHours(12,57,0);
				mon_p6_start_78 = new Date();
				mon_p6_start_78.setHours(1,0,0);
				mon_p6_end_78 = new Date();
				mon_p6_end_78.setHours(1,50,0);
				mon_dl_start_78 = new Date();
				mon_dl_start_78.setHours(1,50,0);
				mon_dl_end_78 = new Date();
				mon_dl_end_78.setHours(2,5,0);
				tue_hm_start_78 = new Date();
				tue_hm_start_78.setHours(8,0,0);
				tue_hm_end_78 = new Date();
				tue_hm_end_78.setHours(8,12,0);
				tue_p7_start_78 = new Date();
				tue_p7_start_78.setHours(8,15,0);
				tue_p7_end_78 = new Date();
				tue_p7_end_78.setHours(9,0,0);
				tue_p1_start_78 = new Date();
				tue_p1_start_78.setHours(9,3,0);
				tue_p1_end_78 = new Date();
				tue_p1_end_78.setHours(9,55,0);
				tue_rs_start_78 = new Date();
				tue_rs_start_78.setHours(9,55,0);
				tue_rs_end_78 = new Date();
				tue_rs_end_78.setHours(10,10,0);
				tue_p2_start_78 = new Date();
				tue_p2_start_78.setHours(10,13,0);
				tue_p2_end_78 = new Date();
				tue_p2_end_78.setHours(11,5,0);
				tue_p3_start_78 = new Date();
				tue_p3_start_78.setHours(11,8,0);
				tue_p3_end_78 = new Date();
				tue_p3_end_78.setHours(12,0,0);
				tue_lh_start_78 = new Date();
				tue_lh_start_78.setHours(12,0,0);
				tue_lh_end_78 = new Date();
				tue_lh_end_78.setHours(12,30,0);
				tue_p4_start_78 = new Date();
				tue_p4_start_78.setHours(12,33,0);
				tue_p4_end_78 = new Date();
				tue_p4_end_78.setHours(1,25,0);
				tue_p5_start_78 = new Date();
				tue_p5_start_78.setHours(1,28,0);
				tue_p5_end_78 = new Date();
				tue_p5_end_78.setHours(2,25,0);
				tue_dl_start_78 = new Date();
				tue_dl_start_78.setHours(2,25,0);
				tue_dl_end_78 = new Date();
				tue_dl_end_78.setHours(2,40,0);
				wed_ay_start_78 = new Date();
				wed_ay_start_78.setHours(8,0,0);
				wed_ay_end_78 = new Date();
				wed_ay_end_78.setHours(8,45,0);
				wed_p6_start_78 = new Date();
				wed_p6_start_78.setHours(8,48,0);
				wed_p6_end_78 = new Date();
				wed_p6_end_78.setHours(9,40,0);
				wed_p7_start_78 = new Date();
				wed_p7_start_78.setHours(9,43,0);
				wed_p7_end_78 = new Date();
				wed_p7_end_78.setHours(10,35,0);
				wed_rs_start_78 = new Date();
				wed_rs_start_78.setHours(10,35,0);
				wed_rs_end_78 = new Date();
				wed_rs_end_78.setHours(10,50,0);
				wed_p1_start_78 = new Date();
				wed_p1_start_78.setHours(10,53,0);
				wed_p1_end_78 = new Date();
				wed_p1_end_78.setHours(11,45,0);
				wed_lh_start_78 = new Date();
				wed_lh_start_78.setHours(11,45,0);
				wed_lh_end_78 = new Date();
				wed_lh_end_78.setHours(12,15,0);
				wed_p2_start_78 = new Date();
				wed_p2_start_78.setHours(12,18,0);
				wed_p2_end_78 = new Date();
				wed_p2_end_78.setHours(1,15,0);
				wed_dl_start_78 = new Date();
				wed_dl_start_78.setHours(1,15,0);
				wed_dl_end_78 = new Date();
				wed_dl_end_78.setHours(1,30,0);
				thu_hm_start_78 = new Date();
				thu_hm_start_78.setHours(8,0,0);
				thu_hm_end_78 = new Date();
				thu_hm_end_78.setHours(8,12,0);
				thu_p3_start_78 = new Date();
				thu_p3_start_78.setHours(8,15,0);
				thu_p3_end_78 = new Date();
				thu_p3_end_78.setHours(9,7,0);
				thu_p4_start_78 = new Date();
				thu_p4_start_78.setHours(9,10,0);
				thu_p4_end_78 = new Date();
				thu_p4_end_78.setHours(10,2,0);
				thu_rs_start_78 = new Date();
				thu_rs_start_78.setHours(10,2,0);
				thu_rs_end_78 = new Date();
				thu_rs_end_78.setHours(10,17,0);
				thu_p5_start_78 = new Date();
				thu_p5_start_78.setHours(10,20,0);
				thu_p5_end_78 = new Date();
				thu_p5_end_78.setHours(11,12,0);
				thu_p6_start_78 = new Date();
				thu_p6_start_78.setHours(11,15,0);
				thu_p6_end_78 = new Date();
				thu_p6_end_78.setHours(12,7,0);
				thu_lh_start_78 = new Date();
				thu_lh_start_78.setHours(12,7,0);
				thu_lh_end_78 = new Date();
				thu_lh_end_78.setHours(12,37,0);
				thu_p7_start_78 = new Date();
				thu_p7_start_78.setHours(12,40,0);
				thu_p7_end_78 = new Date();
				thu_p7_end_78.setHours(1,32,0);
				thu_p1_start_78 = new Date();
				thu_p1_start_78.setHours(1,35,0);
				thu_p1_end_78 = new Date();
				thu_p1_end_78.setHours(2,25,0);
				thu_dl_start_78 = new Date();
				thu_dl_start_78.setHours(2,25,0);
				thu_dl_end_78 = new Date();
				thu_dl_end_78.setHours(2,40,0);
				fri_hm_start_78 = new Date();
				fri_hm_start_78.setHours(8,0,0);
				fri_hm_end_78 = new Date();
				fri_hm_end_78.setHours(8,12,0);
				fri_p2_start_78 = new Date();
				fri_p2_start_78.setHours(8,15,0);
				fri_p2_end_78 = new Date();
				fri_p2_end_78.setHours(9,0,0);
				fri_p3_start_78 = new Date();
				fri_p3_start_78.setHours(9,3,0);
				fri_p3_end_78 = new Date();
				fri_p3_end_78.setHours(9,48,0);
				fri_p4_start_78 = new Date();
				fri_p4_start_78.setHours(9,51,0);
				fri_p4_end_78 = new Date();
				fri_p4_end_78.setHours(10,36,0);
				fri_rs_start_78 = new Date();
				fri_rs_start_78.setHours(10,36,0);
				fri_rs_end_78 = new Date();
				fri_rs_end_78.setHours(10,51,0);
				fri_p5_start_78 = new Date();
				fri_p5_start_78.setHours(10,54,0);
				fri_p5_end_78 = new Date();
				fri_p5_end_78.setHours(11,39,0);
				fri_p6_start_78 = new Date();
				fri_p6_start_78.setHours(11,42,0);
				fri_p6_end_78 = new Date();
				fri_p6_end_78.setHours(12,27,0);
				fri_lh_start_78 = new Date();
				fri_lh_start_78.setHours(12,27,0);
				fri_lh_end_78 = new Date();
				fri_lh_end_78.setHours(12,57,0);
				fri_p7_start_78 = new Date();
				fri_p7_start_78.setHours(1,0,0);
				fri_p7_end_78 = new Date();
				fri_p7_end_78.setHours(1,50,0);
				fri_dl_start_78 = new Date();
				fri_dl_start_78.setHours(1,50,0);
				fri_dl_end_78 = new Date();
				fri_dl_end_78.setHours(2,5,0);
			}

			switch(day){
				case("Monday"):

					if(time > new Date().setHours(8,0,0) && time < new Date().setHours(14,25,0)){return "Passing"}
					if(time > new Date().setHours(14,25,0)){return "Pau"}
					break;

				case("Tuesday"):
					if(time > tue_hm_start_78 && time < tue_hm_end_78){
					time_left = diff_minutes(time,tue_hm_end_78);
					return ['Homeroom', time_left]}
					if(time > tue_p7_start_78 && time < tue_p7_end_78){
					time_left = diff_minutes(time,tue_p7_end_78);
					return ['Period 7', time_left]}
					if(time > tue_p1_start_78 && time < tue_p1_end_78){
					time_left = diff_minutes(time,tue_p1_end_78);
					return ['Period 1', time_left]}
					if(time > tue_rs_start_78 && time < tue_rs_end_78){
					time_left = diff_minutes(time,tue_rs_end_78);
					return ['Recess', time_left]}
					if(time > tue_p2_start_78 && time < tue_p2_end_78){
					time_left = diff_minutes(time,tue_p2_end_78);
					return ['Period 2', time_left]}
					if(time > tue_p3_start_78 && time < tue_p3_end_78){
					time_left = diff_minutes(time,tue_p3_end_78);
					return ['Period 3', time_left]}
					if(time > tue_lh_start_78 && time < tue_lh_end_78){
					time_left = diff_minutes(time,tue_lh_end_78);
					return ['Lunch', time_left]}
					if(time > tue_p4_start_78 && time < tue_p4_end_78){
					time_left = diff_minutes(time,tue_p4_end_78);
					return ['Period 4', time_left]}
					if(time > tue_p5_start_78 && time < tue_p5_end_78){
					time_left = diff_minutes(time,tue_p5_end_78);
					return ['Period 5', time_left]}
					if(time > tue_dl_start_78 && time < tue_dl_end_78){
					time_left = diff_minutes(time,tue_dl_end_78);
					return ['Dismissal', time_left]}

					if(time > new Date().setHours(8,0,0) && time < new Date().setHours(14,25,0)){return "Passing"}
					if(time > new Date().setHours(14,25,0)){return "Pau"}
					break;

				case("Wednesday"):

					if(time > new Date().setHours(8,0,0) && time < new Date().setHours(14,25,0)){return "Passing"}
					if(time > new Date().setHours(14,25,0)){return "Pau"}
					break;
			}
		}

		function get_next_period_6th(time, day){
			var tdate = new Date();
			
		}
		
	load_info();

	</script>




</body>
</html>
