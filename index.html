<!DOCTYPE html>
<html>
<body>

	<h1>What period is it?!?!</h1>

	<h2>    6th: <span id="period_output_6th"></span></h2>
	<h2>7th/8th: <span id="period_output_78th"></span></h2>

	<p>Current Time is: <span id="cur_time"></span></p>
	<p>Current Date is:  <span id="cur_date"></span></p>
	

	<button type="button" onclick="load_info()">Refresh</button>

	<script>
		function load_info(){
			var cur_date = new Date();
			var date = cur_date.toLocaleDateString();
			var time = cur_date.toLocaleTimeString();
			var day = get_day(cur_date.getDay());

			var tdate = new Date();
			tdate.setHours(21,0,0);

			console.log(tdate);


			console.log(diff_minutes(cur_date, tdate));

			if(day=="Saturday" || day == "Sunday"){
				var info_out_6  = "It's the weekend!!";
				var info_out_78 = "It's the weekend!!";
			}
			else{
				var period_6 = get_current_period_6th(cur_date, day);
				var period_78 = 6;

				var info_out_6  = `It's currently period #${period_6}`;
				var info_out_78 = 'nothing yet'
			}

			

			document.getElementById("period_output_6th").textContent  = info_out_6;
			document.getElementById("period_output_78th").textContent = info_out_78;
			document.getElementById("cur_time").textContent = time;
			document.getElementById("cur_date").textContent = date;
		}

		function diff_minutes(dt2, dt1) {
			var diff =(dt2.getTime() - dt1.getTime()) / 1000;
			diff /= 60;
			return Math.abs(Math.round(diff));
			}

		function get_day(day){
			var days = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
			return days[day]
		}

		function get_current_period_6th(time, day){
			//setHours is hours, minutes, seconds
			switch(day){
				case("Monday"):
					console.log('in monday')
					if(time > new Date().setHours(8,0,0) && time < new Date().setHours(8,17,0)){return "HR"}
					if(time > new Date().setHours(8,20,0) && time < new Date().setHours(9,5,0)){return "Period 1"}
					if(time > new Date().setHours(9,8,0) && time < new Date().setHours(9,53,0)){return "Period 2"}
					if(time > new Date().setHours(9,53,0) && time < new Date().setHours(10,8,0)){return "Recess"}
					if(time > new Date().setHours(10,11,0) && time < new Date().setHours(10,56,0)){return "Period 3"}
					if(time > new Date().setHours(10,59,0) && time < new Date().setHours(11,44,0)){return "Period 4"}
					if(time > new Date().setHours(11,44,0) && time < new Date().setHours(12,14,0)){return "Lunch"}
					if(time > new Date().setHours(12,17,0) && time < new Date().setHours(13,2,0)){return "Period 5"}
					if(time > new Date().setHours(13,5,0) && time < new Date().setHours(13,50,0)){return "Period 6"}
					if(time > new Date().setHours(13,50,0) && time < new Date().setHours(14,5,0)){return "Dismissal"}
					if(time > new Date().setHours(8,0,0) && time < new Date().setHours(13,50,0)){return "Passing"}
					if(time > new Date().setHours(14,5,0)){return "Pau"}
					break;

				case("Tuesday"):
					if(time > new Date().setHours(8,0,0) && time < new Date().setHours(8,17,0)){return "Homeroom"}
					if(time > new Date().setHours(8,20,0) && time < new Date().setHours(9,5,0)){return "Period 7"}
					if(time > new Date().setHours(9,5,0) && time < new Date().setHours(9,20,0)){return "Recess"}
					if(time > new Date().setHours(9,23,0) && time < new Date().setHours(10,15,0)){return "Period 1"}
					if(time > new Date().setHours(10,18,0) && time < new Date().setHours(11,10,0)){return "Period 2"}
					if(time > new Date().setHours(11,10,0) && time < new Date().setHours(11,40,0)){return "Lunch"}
					if(time > new Date().setHours(11,43,0) && time < new Date().setHours(12,35,0)){return "Period 3"}
					if(time > new Date().setHours(12,38,0) && time < new Date().setHours(13,30,0)){return "Period 4"}
					if(time > new Date().setHours(13,33,0) && time < new Date().setHours(14,25,0)){return "Period 5"}
					if(time > new Date().setHours(14,25,0) && time < new Date().setHours(14,40,0)){return "Dismissal"}
					if(time > new Date().setHours(8,0,0) && time < new Date().setHours(14,25,0)){return "Passing"}
					if(time > new Date().setHours(14,25,0)){return "Pau"}
					break;

				case("Wednesday"):
					if(time > new Date().setHours(8,0,0) && time < new Date().setHours(8,50,0)){return "Advisory"}
					if(time > new Date().setHours(8,53,0) && time < new Date().setHours(9,45,0)){return "Period 6"}
					if(time > new Date().setHours(9,45,0) && time < new Date().setHours(10,0,0)){return "Recess"}
					if(time > new Date().setHours(10,3,0) && time < new Date().setHours(10,55,0)){return "Period 7"}
					if(time > new Date().setHours(10,55,0) && time < new Date().setHours(11,25,0)){return "Lunch"}
					if(time > new Date().setHours(11,28,0) && time < new Date().setHours(12,20,0)){return "Period 1"}
					if(time > new Date().setHours(12,23,0) && time < new Date().setHours(13,15,0)){return "Period 2"}
					if(time > new Date().setHours(13,15,0) && time < new Date().setHours(13,30,0)){return "Dismissal"}
					if(time > new Date().setHours(8,0,0) && time < new Date().setHours(13,30,0)){return "Passing"}
					if(time > new Date().setHours(13,30,0)){return "Pau"}
					break;
				case("Thursday"):
					break;

				case("Friday"):
					break;


				case("Saturday" || "Sunday"):
					return "weekend";
					break;

				}

			return 'not found';
		}

		function get_next_period_6th(time, day){
			var tdate = new Date();
			
		}
		
	load_info();

	</script>




</body>
</html>
